{% extends "base.html" %}

{% block content %}
<div class="decks-container">
    <h2>My Flashcard Decks</h2>
    
    {% if decks %}
        <div class="deck-list">
            {% for deck in decks %}
                <div class="deck-card">
                    <h3>
                        <!-- Fix the URL here - deck_id should be part of the path -->
                        <a href="{{ url_for('decks.view_deck', deck_id=deck.id) }}" class="deck-title">
                            {{ deck.name }}
                        </a>
                    </h3>
                    {% if deck.description %}
                        <p class="deck-description">{{ deck.description }}</p>
                    {% endif %}
                    <div class="deck-stats">
                        <span>{{ deck.flashcards|length }} cards</span>
                    </div>
                    <div class="deck-actions">
                        <!-- Fix the URL here as well -->
                        <a href="{{ url_for('decks.view_deck', deck_id=deck.id) }}" class="button view-btn">View Cards</a>
                        <a href="{{ url_for('review.start_review', deck_id=deck.id) }}" class="button review-btn">Review</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No decks available. Create your first deck!</p>
    {% endif %}
</div>

<style>
.decks-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.deck-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.deck-card {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 20px;
    background-color: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.deck-title {
    color: #2c3e50;
    text-decoration: none;
    font-size: 1.2em;
}

.deck-title:hover {
    color: #3498db;
}

.deck-description {
    color: #666;
    margin: 10px 0;
    font-size: 0.9em;
}

.deck-stats {
    color: #666;
    font-size: 0.9em;
    margin: 10px 0;
}

.deck-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

.button {
    padding: 8px 16px;
    border-radius: 4px;
    text-decoration: none;
    font-weight: 500;
    text-align: center;
}

.view-btn {
    background-color: #2ecc71;
    color: white;
}

.review-btn {
    background-color: #3498db;
    color: white;
}

.button:hover {
    opacity: 0.9;
}
</style>
{% endblock %}
